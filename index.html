<!doctype html>
<!--suppress HtmlFormInputWithoutLabel, JSDeprecatedSymbols -->
<html lang="en-us">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

	<title>Sonic CD</title>

	<link type="text/css" rel="stylesheet" href="css/fonts.css" />
	<style type="text/css">
		html, body {
			font-family: arial, sans-serif;
			margin: 0;
			padding: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			background-color: #000;
			text-align: center;
		}

		canvas {
			height: 100%;
			margin: auto;
			padding: 0;
			border: 0 none;
			background-color: #000;
			image-rendering: pixelated;
		}

		.spinner {
			height: 30px;
			width: 30px;
			margin: 20px 0 0 20px;
			display: inline-block;
			animation: rotation 0.8s linear infinite;
			border: 5px solid #ebebeb;
			border-top: 5px solid #787878;
			border-radius: 100%;
			background-color: rgb(189, 215, 46);
		}

		@keyframes rotation {
			from { transform: rotate(0deg); }
			to { transform: rotate(360deg); }
		}

		#status {
			display: inline-block;
			margin-top: 30px;
			margin-left: 20px;
			font-weight: bold;
			color: rgb(120, 120, 120);
		}

		#progress {
			height: 20px;
			width: 300px;
		}

		#output {
			display: none;
		}
	</style>
</head>

<body>
	<div class="spinner" id="spinner" style="display:none;"></div>
	<div id="status" style="display:none;">Downloading...</div>
	<progress id="progress" value="0" max="100" hidden></progress>

	<canvas id="canvas" onclick="window.focus();" oncontextmenu="event.preventDefault();"></canvas>
	<textarea id="output" rows="8"></textarea>

	<script type="text/javascript">
		var statusElement = document.getElementById('status');
		var progressElement = document.getElementById('progress');
		var spinnerElement = document.getElementById('spinner');

		var Module = {
			preRun: [],
			postRun: [],
			print: function (text) {
				console.log(text);
			},
			printErr: function (text) {
				console.error(text);
			},
			canvas: document.getElementById('canvas'),
			setStatus: function (text) {
				if (!text) {
					spinnerElement.style.display = 'none';
					return;
				}
				statusElement.innerHTML = text;
				spinnerElement.style.display = 'inline-block';
			},
			monitorRunDependencies: function (left) {
				this.setStatus(left ? 'Preparing...' : 'All downloads complete.');
			}
		};

		Module.setStatus('Downloading...');
	</script>

	<script async defer src="index.js"></script>
</body>
</html>
